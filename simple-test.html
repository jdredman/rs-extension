<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Link Card Test</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background-color: #f5f5f5;
        }
        .test { 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        /* Link preview styles */
        .link-preview {
            border: 1px solid #e6e6e6;
            border-radius: 8px;
            padding: 16px;
            margin: 12px 0;
            background-color: #fff;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .link-preview:hover {
            border-color: #dee2e6;
        }
        
        .link-preview-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .link-favicon {
            width: 16px;
            height: 16px;
            border-radius: 2px;
        }
        
        .link-domain {
            font-size: 12px;
            color: #666;
            font-weight: 500;
        }
        
        .link-preview-body {
            margin-top: 8px;
        }
        
        .link-title {
            margin: 0 0 8px 0;
            font-size: 15px;
            font-weight: 600;
            line-height: 1.3;
        }
        
        .link-title a {
            color: #007bff;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .link-title a:hover {
            color: #0056b3;
            text-decoration: underline;
        }
        
        .link-description {
            margin: 0;
            font-size: 13px;
            color: #666;
            line-height: 1.4;
        }
        
        .raw-html {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 10px;
            font-family: monospace;
            word-break: break-all;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Simple Link Card Test</h1>
    
    <div class="test">
        <h2>What the createLinkCard function generates (raw HTML):</h2>
        <div class="raw-html" id="rawHTML"></div>
        
        <h2>What it should look like when rendered:</h2>
        <div id="rendered"></div>
    </div>

    <script>
        function createLinkCard(result) {
            const title = result.title || 'Untitled';
            const url = result.url || '#';
            const description = result.description || 'No description available';
            const displayLink = result.displayLink || new URL(url).hostname;
            const favicon = result.favicon || `https://www.google.com/s2/favicons?domain=${displayLink}`;
            
            return `<div class="link-preview"><div class="link-preview-header"><img src="${favicon}" alt="Site icon" class="link-favicon" onerror="this.style.display='none'"><span class="link-domain">${displayLink}</span></div><div class="link-preview-body"><h4 class="link-title"><a href="${url}" target="_blank" rel="noopener noreferrer">${title}</a></h4><p class="link-description">${description}</p></div></div>`;
        }

        const testResult = {
            title: "How to Pay Off Debt Fast With the Debt Snowball Method",
            url: "https://www.ramseysolutions.com/debt/how-to-pay-off-debt-with-the-debt-snowball-plan",
            description: "The debt snowball method helps you pay off debt fast by focusing on your smallest debt first while making minimum payments on the rest.",
            displayLink: "ramseysolutions.com",
            favicon: "https://www.google.com/s2/favicons?domain=ramseysolutions.com",
            type: "article"
        };

        const html = createLinkCard(testResult);
        
        // Show raw HTML
        document.getElementById('rawHTML').textContent = html;
        
        // Show rendered version
        document.getElementById('rendered').innerHTML = html;
        
        console.log('Generated HTML:', html);
        console.log('HTML length:', html.length);
        console.log('Contains link-preview?', html.includes('link-preview'));
    </script>
</body>
</html>
